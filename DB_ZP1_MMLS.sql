USE Master
GO

ALTER DATABASE ZP1_MMLS SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
GO

DROP DATABASE IF EXISTS ZP1_MMLS
GO

CREATE DATABASE ZP1_MMLS
GO

USE ZP1_MMLS
GO

CREATE TABLE Role (
    RoleId NVARCHAR(255) PRIMARY KEY,
    RoleName NVARCHAR(50) NOT NULL
);

CREATE TABLE Account (
    AccountId NVARCHAR(255) PRIMARY KEY,
    Username NVARCHAR(50) NOT NULL,
    Password NVARCHAR(256) NOT NULL,
	FullName NVARCHAR(255),
    RoleId NVARCHAR(255) FOREIGN KEY REFERENCES Role(RoleId)
);

INSERT INTO Role (RoleId, RoleName) 
VALUES 
('6C0F2B60-D8E8-4E59-8615-12118C5DECD9' ,'Admin'),
('D2077864-C7BE-4C74-9C38-770E0DFD5CBA' ,'Manager'),
('FA6E8E08-016B-492F-A675-3F744B0F6E63' ,'User');

INSERT INTO Account(AccountId, Username, Password, FullName, RoleId)
VALUES
(NEWID(), 'admin', 'a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3', N'Nguyễn Văn A', '6C0F2B60-D8E8-4E59-8615-12118C5DECD9'),
(NEWID(), 'manager', 'a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3', N'Nguyễn Văn B', 'D2077864-C7BE-4C74-9C38-770E0DFD5CBA'),
(NEWID(), 'user', 'a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3', N'Nguyễn Văn C', 'FA6E8E08-016B-492F-A675-3F744B0F6E63');